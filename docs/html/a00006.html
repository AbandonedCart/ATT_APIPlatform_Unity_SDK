<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AT&amp;T API Platform SDK for Microsoft: In-application Messaging From Mobile Number Service Cookbook</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>


<div id="titlearea">

<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 36px;">
  <!--BEGIN PROJECT_LOGO
  <td id="projectlogo"<img alt="Logo" src="AttLogoBig.png"/></td> -->
  <td> <img alt=" " src="AttLogoBig.png" height="50" />
  
  
  <td style="padding-left:0">
   <div id="projectname"> AT&amp;T API Platform SDK for Microsoft&reg;
   &#160;<span id="projectnumber">2.3.3</span>
   </div>
   <div id="projectbrief">Wrapper classes that allow developers to build robust applications using .NET</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>  
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00006.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">In-application Messaging From Mobile Number Service Cookbook </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="mobo_overview"></a>
Overview</h2>
<p>This cookbook shows you how to develop an In-application Messaging From Mobile Number Service application using the Platform SDK for Microsoft. <br/>
 The Platform SDK for Microsoft provides the following methods: </p>
<ul>
<li>
Send Message  </li>
<li>
Get Message Headers  </li>
<li>
Get Message Content  </li>
</ul>
<p>To use these methods in an application, perform the following steps: </p>
<ol type="1">
<li>Add a reference to the SDK as shown in the <a class="el" href="a00011.html">About the Cookbooks </a> section and import the <a class="el" href="a00208.html">ATT_MSSDK.MOBOv1</a>, <a class="el" href="a00206.html" title="Core namespace for In-application Messaging from Mobile Number Service for fetching message details...">ATT_MSSDK.MIMv1</a> namespaces. <br/>
</li>
<li>Create an instance of <a class="el" href="a00074.html">RequestFactory </a> with the scope type RequestFactory.ScopeTypes.IMMN, as shown in the <a class="el" href="a00011.html">About the Cookbooks </a> section. <br/>
</li>
<li>Invoke the In-application Messaging From Mobile Number Service methods using the <a class="el" href="a00074.html">RequestFactory </a> instance. </li>
</ol>
<h2><a class="anchor" id="mobo_only"></a>
Sending a message</h2>
<p>To send Short Message Service (SMS) or Multimedia Messaging Service (MMS) on behalf of subscribers, invoke the <a class="el" href="a00238.html#ga123ffbb5c51547e1f79d9c2d63151486">SendMessage </a> method using the <a class="el" href="a00074.html">RequestFactory </a> instance by passing the addresses, message content and attachments (attachments are optional) as parameters. The AT&amp;T Platform will retrieve the MSISDN of the subscribers from the consent mechanism and then append it as the source address in the request. The recipients (maximum of ten) can be email address, short code or mobile numbers or combination of email address, short code or/and mobile numbers. Application will make a single API call and the AT&amp;T Platform will figure out if the message is SMS or MMS based on the content and then select the correct transport mechanism accordingly. </p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">string</span> addresses = <span class="stringliteral">&quot;xxxxxxxxx&quot;</span>;
 List&lt;string&gt; attachments = null;
 attachments.Add(<span class="stringliteral">&quot;xxxxxxxxxxx&quot;</span>);
 attachments.Add(<span class="stringliteral">&quot;xxxxxxxxxxx&quot;</span>);
 <span class="keywordtype">string</span> message = <span class="stringliteral">&quot;xxxxx xxxxx xxx xxxxxxxxxx&quot;</span>;
 SendMessageResponse response = this.requestFactory.SendMessage(addresses, attachments, message);
</pre></div> <h2><a class="anchor" id="mim_send"></a>
Getting Message Headers</h2>
<p>To request a block of subscriber message headers from the AT&amp;T Platform, invoke the <a class="el" href="a00238.html#ga1b1a1638dc70c3fae0ef9540cc5dfd96">GetMessageHeaders </a> method using the <a class="el" href="a00074.html">RequestFactory </a> instance by passing a count and an optional index value for referencing the starting record of the query as shown in the following code example. The initial request must only contain the count parameter. </p>
<div class="fragment"><pre class="fragment"> GetMessageHeadersResponse response = this.requestFactory.GetMessageHeaders(10);
</pre></div> <h2><a class="anchor" id="mim_content"></a>
Getting Message Content</h2>
<p>To request message content from the AT&amp;T Platform, invoke the <a class="el" href="a00238.html#ga77743b46dfa77b32e5f5530bc79497aa">GetMessage </a> method using the <a class="el" href="a00074.html">RequestFactory </a> instance by passing a content identifier and an associated message identifier. The GetMessage method uses the information returned by the GetMessageHeaders method to fetch one or more subscriber messages from the AT&amp;T Platform. </p>
<div class="fragment"><pre class="fragment"> GetMessageContentResponse response = this.requestFactory.GetMessage(<span class="stringliteral">&quot;S10&quot;</span>,<span class="stringliteral">&quot;1&quot;</span>);
</pre></div> </div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Thu Jun 20 2013 11:52:10 for AT&amp;T API Platform SDK for Microsoft </li>
   </ul>
 </div>


</body>
</html>
