<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AT&amp;T API Platform SDK for Microsoft: Getting started with OAuth API Implementation</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>


<div id="titlearea">

<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 36px;">
  <!--BEGIN PROJECT_LOGO
  <td id="projectlogo"<img alt="Logo" src="AttLogoBig.png"/></td> -->
  <td> <img alt=" " src="AttLogoBig.png" height="50" />
  
  
  <td style="padding-left:0">
   <div id="projectname"> AT&amp;T API Platform SDK for Microsoft&reg;
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">Wrapper classes that allow developers to build robust applications using .NET</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>  
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00009.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Getting started with OAuth API Implementation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="cb_overview"></a>
Overview</h2>
<p>In order to access a protected resource, whether on behalf of a customer or as an application with no customer context, the application must use the OAuth 2.0 2.x protocol to request an access token authorizing the application to use the requested scope. </p>
<p>The Platform SDK for Microsoft allows developers to request and store the tokens. OAuth tokens can be managed in an application by performing the following actions depending on the scope/service of the application: </p>
<ul>
<li>
Add a reference to the SDK as shown in <a class="el" href="a00008.html">About the Cookbooks </a>. </li>
<li>
Request OAuth token for the following scenarios: <ul>
<li>
Applications without customer context </li>
<li>
Applications with customer context </li>
</ul>
</li>
</ul>
<p>The following section explains these actions in more detail. </p>
<h2><a class="anchor" id="request_token"></a>
Request OAuth Token</h2>
<h3><a class="anchor" id="request_token_technique_1"></a>
For Applications without Customer Context (Client Credentials Model)</h3>
<p>If an Application uses services that do not require customer authorization, the application can use the following code to get and use the access token. </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Create an instance of OAuthToken and invoke GetClientCredentials() of RequestFactory instance.</span>
 OAuthToken oauthToken = requestFactory.GetClientCredentials();
</pre></div><p> This token can be persisted in the database or in local storage for later use and can be assigned to the requestFactory.ClientCredential property. </p>
<h3><a class="anchor" id="request_token_technique_2"></a>
For Applications with Customer Context (Authorization Code Model)</h3>
<p>If an application were to use services that require customer authorization, perform the following steps. </p>
<ol type="1">
<li>Invoke GetOAuthRedirect() method on requestFactory to get redirectUrl (Url for authorization endpoint of AT&amp;T platform) and get user consent by redirecting the browser to an authorization endpoint. <div class="fragment"><pre class="fragment"> <span class="comment">// Redirect the browser to get user consent. </span>
 Response.Redirect(requestFactory.GetOAuthRedirect());
</pre></div> <br/>
</li>
<li>Retrieve the code query parameter from the AT&amp;T platform response and then invoke the GetAuthorizeCredetials() on the requestFactory object as the agrument. <div class="fragment"><pre class="fragment"> In Page Load:
  <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(Request[<span class="stringliteral">&quot;code&quot;</span>]))
  {
      <span class="comment">//Extract the code query parameter, which is authorization code and store in temporary variable.</span>
      authCode = Request[<span class="stringliteral">&quot;code&quot;</span>].ToString();
      <span class="comment">//Exchange the authorization code to get access token.</span>
      this.requestFactory.GetAuthorizeCredentials(authCode);
  }
</pre></div> <br/>
</li>
<li>Save the OAuth token to make subsequent API calls. <div class="fragment"><pre class="fragment"> <span class="comment">// Save the access token for future reference or processing.</span>
 OAuthToken oauthToken = this.requestFactory.AuthorizeCredential;
</pre></div> <br/>
</li>
<li>This token can be persisted in the database or local storage for later use and can be assigned to the requestFactory.AuthorizeCredential property. </li>
</ol>
</div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>


</body>
</html>
