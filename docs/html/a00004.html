<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AT&amp;T API Platform SDK for Microsoft: Multimedia Messaging Service Cookbook</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>


<div id="titlearea">

<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 36px;">
  <!--BEGIN PROJECT_LOGO
  <td id="projectlogo"<img alt="Logo" src="AttLogoBig.png"/></td> -->
  <td> <img alt=" " src="AttLogoBig.png" height="50" />
  
  
  <td style="padding-left:0">
   <div id="projectname"> AT&amp;T API Platform SDK for Microsoft&reg;
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">Wrapper classes that allow developers to build robust applications using .NET</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>  
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00004.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Multimedia Messaging Service Cookbook </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="mms_overview"></a>
Overview</h2>
<p>This cookbook shows you how to develop a Multimedia Messaging Service (MMS) application using the Platform SDK for Microsoft. <br/>
 The Platform SDK for Microsoft provides the following methods: </p>
<ul>
<li>
Send MMS Messages  </li>
<li>
Get MMS Delivery Response  </li>
<li>
Receive MMS Messages  </li>
<li>
Receive MMS Delivery Status  </li>
</ul>
<p>To use these methods in an application, perform the following steps: </p>
<ol type="1">
<li>Add a reference to the SDK as shown in the <a class="el" href="a00008.html">About the Cookbooks </a> section and import the <a class="el" href="a00215.html" title="Core namespace for Multimedia Messaging Service Version 3.">ATT_MSSDK.MMSv3</a> namespace. <br/>
</li>
<li>Create an instance of RequestFactory with the scope type RequestFactory.ScopeTypes.MMS, as shown in the <a class="el" href="a00008.html">About the Cookbooks </a> section. <br/>
</li>
<li>Invoke the Multimedia Messaging Service methods using the RequestFactory instance. </li>
</ol>
<h2><a class="anchor" id="mms_sendmms"></a>
Sending an MMS Message</h2>
<p>To send an MMS message, invoke the SendMms method using the RequestFactory instance by passing the destination address (Mobile number), the message, and the list of files as arguments. This method sends an MMS message to the mobile device, as shown in the following code example. </p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">string</span> phoneNo = <span class="stringliteral">&quot;xxxxxxxxxx&quot;</span>;
 <span class="keywordtype">string</span> message = <span class="stringliteral">&quot;xxxxxxxxxxxx xxxxxxxxxxxxx&quot;</span>;
 <span class="comment">// If true, the application expects a delivery status notification.</span>
 <span class="comment">// The default value is null.</span>
 <span class="keywordtype">bool</span> notifyDeliveryStatus = <span class="keyword">true</span>; 
 List&lt;string&gt; attachments = null;
 attachments.Add(<span class="stringliteral">&quot;xxxxxxxxxxxxx.jpg&quot;</span>);
 attachments.Add(<span class="stringliteral">&quot;xxxxxxxxxxxxx.gif&quot;</span>);
 MmsResponse resp = this.requestFactory.SendMms(phoneNo, message, attachments, null, notifyDeliveryStatus);
</pre></div> <h2><a class="anchor" id="mms_status"></a>
Get an MMS Delivery Response</h2>
<p>To get the status of an MMS delivery request, invoke the GetMmsDeliveryResponse method using the RequestFactory instance, as shown in the following code example. This method enables applications to retrieve the status of a previously submitted MMS delivery request that was accepted by the AT&amp;T Network for delivery to the destination mobile device. The identifier that is returned in the response of the corresponding call to the SendMms method must be provided as a parameter to the GetMmsDeliveryResponse method. </p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">string</span> mmsid = <span class="stringliteral">&quot;xxxxxxxxxxxxxxx&quot;</span>;
 MmsDeliveryResponse resp = this.requestFactory.GetMmsDeliveryResponse(mmsid);
</pre></div> <h2><a class="anchor" id="mms_receive"></a>
Receive MMS Messages</h2>
<p>When you register an application with the AT&amp;T Developer Program at <a href="https://developer.att.com,">https://developer.att.com,</a> you receive a short code that identifies the application on the AT&amp;T Mobile Network. Messages, like MMS, that are sent to your application over the network are sent to this short code. To process these messages in your application, you must retrieve them from the platform using the application short code in a callback listener mechanism. <br/>
 To receive Mobile Originated MMS messages that were sent to your application short code instantaneously, register a callback listener application URL with the AT&amp;T Developer Program at <a href="https://developer.att.com">https://developer.att.com</a>. The URL that you register is used by the AT&amp;T Platform to forward the received messages to your application. <br/>
 To receive MMS messages, invoke the GetMms method on the RequestFactory class by passing a System.IO.Stream object and a directory path where received MMS attachments must be saved as the arguments to the method, as shown in the following code example. This method retrieves the MMS content from the input stream. </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// .NET Framework Request.InputStream </span>
 <span class="comment">// gets the contents of the incoming http entity body.</span>
 System.IO.Stream inputStream = Request.InputStream;
 <span class="keywordtype">string</span> directoryPath = <span class="stringliteral">&quot;xxxx\\xxxx\\xxxx\\&quot;</span>;
 InboundMmsMessage inboundMmsMessage = RequestFactory.GetMms(inputStream, directoryPath);
</pre></div> <h2><a class="anchor" id="mms_receive_status"></a>
Getting the Delivery Status of a Sent MMS Message</h2>
<p>To get the final delivery status of the MMS messages sent by your application, register a listener endpoint with the AT&amp;T system during the application registration process or add a listener endpoint to the application profile during an update of the application. The endpoint is then associated with the short code assigned to the application. Your application must set the <b>notifyDeliveryStatus</b> parameter to true in the sendMms call to get delivery notifications. <br/>
 To receive MMS Delivery Status, invoke the GetMMSDeliveryStatus method using the RequestFactory class by passing a System.IO.Stream object as an argument to the method, as shown in the following code example. </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// .NET Framework Request.InputStream </span>
 <span class="comment">// gets the contents of the incoming http entity body.</span>
 System.IO.Stream stream = Request.InputStream;
 MmsDeliveryStatus mmsDeliveryStatus = RequestFactory.GetMMSDeliveryStatus(stream);
</pre></div> </div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>


</body>
</html>
